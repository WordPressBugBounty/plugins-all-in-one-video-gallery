(()=>{"use strict";var e={n:o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return e.d(l,{a:l}),l},d:(o,l)=>{for(var i in l)e.o(l,i)&&!e.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:l[i]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.wp.blocks,l=window.wp.serverSideRender;var i=e.n(l);const a=window.wp.blockEditor,n=window.wp.components,t=window.wp.data;function s(e,o=[],l=""){for(var i=0;i<e.length;i+=1)o.push({label:l+e[i].name,value:e[i].id}),e[i].children.length>0&&s(e[i].children,o,l.trim()+"—");return o}const r=window.ReactJSXRuntime,c=JSON.parse('{"UU":"aiovg/categories"}');(0,o.registerBlockType)(c.UU,{attributes:{template:{type:"string",default:aiovg_blocks.categories.template},id:{type:"number",default:aiovg_blocks.categories.id},columns:{type:"number",default:aiovg_blocks.categories.columns},limit:{type:"limit",default:aiovg_blocks.categories.limit},orderby:{type:"string",default:aiovg_blocks.categories.orderby},order:{type:"string",default:aiovg_blocks.categories.order},hierarchical:{type:"boolean",default:aiovg_blocks.categories.hierarchical},show_description:{type:"boolean",default:aiovg_blocks.categories.show_description},show_count:{type:"boolean",default:aiovg_blocks.categories.show_count},hide_empty:{type:"boolean",default:aiovg_blocks.categories.hide_empty},show_pagination:{type:"boolean",default:aiovg_blocks.categories.show_pagination}},edit:function({attributes:e,setAttributes:o}){const{template:l,id:c,columns:g,limit:d,orderby:b,order:h,hierarchical:u,show_description:_,show_count:v,hide_empty:p,show_pagination:w}=e,k=(0,t.useSelect)((e=>{const o=e("core").getEntityRecords("taxonomy","aiovg_categories",{per_page:-1});let l=[{label:"— "+aiovg_blocks.i18n.select_parent+" —",value:0}];if(o&&o.length>0){let e=s(function(e){for(var o,l={},i=[],a=0;a<e.length;a+=1)l[e[a].id]=a,e[a].children=[];for(a=0;a<e.length;a+=1)0==(o=e[a]).parent?i.push(o):l.hasOwnProperty(o.parent)&&e[l[o.parent]].children.push(o);return i}(o));l=[...l,...e]}return l}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.InspectorControls,{children:(0,r.jsxs)(n.PanelBody,{title:aiovg_blocks.i18n.general_settings,children:[(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.SelectControl,{label:aiovg_blocks.i18n.select_template,value:l,options:[{label:aiovg_blocks.i18n.grid,value:"grid"},{label:aiovg_blocks.i18n.list,value:"list"},{label:aiovg_blocks.i18n.dropdown,value:"dropdown"}],onChange:e=>o({template:e})})}),(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.SelectControl,{label:aiovg_blocks.i18n.select_parent,value:c,options:k,onChange:e=>o({id:Number(e)})})}),"grid"==l&&(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.RangeControl,{label:aiovg_blocks.i18n.columns,value:g,min:1,max:12,onChange:e=>o({columns:e})})}),"grid"==l&&(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.RangeControl,{label:aiovg_blocks.i18n.limit,value:d,min:0,max:500,onChange:e=>o({limit:e})})}),(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.SelectControl,{label:aiovg_blocks.i18n.order_by,value:b,options:[{label:aiovg_blocks.i18n.id,value:"id"},{label:aiovg_blocks.i18n.count,value:"count"},{label:aiovg_blocks.i18n.name,value:"name"},{label:aiovg_blocks.i18n.slug,value:"slug"},{label:aiovg_blocks.i18n.menu_order,value:"menu_order"}],onChange:e=>o({orderby:e})})}),(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.SelectControl,{label:aiovg_blocks.i18n.order,value:h,options:[{label:aiovg_blocks.i18n.asc,value:"asc"},{label:aiovg_blocks.i18n.desc,value:"desc"}],onChange:e=>o({order:e})})}),("list"==l||"dropdown"==l)&&(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.ToggleControl,{label:aiovg_blocks.i18n.show_hierarchy,checked:u,onChange:()=>o({hierarchical:!u})})}),"grid"==l&&(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.ToggleControl,{label:aiovg_blocks.i18n.show_description,checked:_,onChange:()=>o({show_description:!_})})}),(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.ToggleControl,{label:aiovg_blocks.i18n.show_videos_count,checked:v,onChange:()=>o({show_count:!v})})}),(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.ToggleControl,{label:aiovg_blocks.i18n.hide_empty_categories,checked:p,onChange:()=>o({hide_empty:!p})})}),"grid"==l&&(0,r.jsx)(n.PanelRow,{children:(0,r.jsx)(n.ToggleControl,{label:aiovg_blocks.i18n.show_pagination,checked:w,onChange:()=>o({show_pagination:!w})})})]})}),(0,r.jsx)("div",{...(0,a.useBlockProps)(),children:(0,r.jsx)(n.Disabled,{children:(0,r.jsx)(i(),{block:"aiovg/categories",attributes:e})})})]})}})})();